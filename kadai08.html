<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
    <meta charset="utf-8">
    <title></title>
    <script>
        function searchCallback(result) {
            var output = document.getElementById('outputArea');
            var results = result.results;
            var table = document.createElement("table");

            for (var r of results) {
                var oneline = document.createElement("tr");

                var trackName = document.createElement("td");
                trackName.innerHTML = r.trackName;
                oneline.appendChild(trackName);

                var artistName = document.createElement("td");
                artistName.innerHTML = r.artistName;
                oneline.appendChild(artistName);

                var gazo = document.createElement("img");
                gazo.src = r.artworkUrl100;
                oneline.appendChild(gazo);

                table.appendChild(oneline);
            }
            output.appendChild(table);
        }

        function startRequest() {
            var s = document.getElementById('searchName').value;
            var searchString = encodeURIComponent(s);
            var iTunesURI = 'https://itunes.apple.com/search?lang=ja_jp&country=jp&term=' + searchString + '&callback=searchCallback';
            document.getElementById('caller').setAttribute('src', iTunesURI);
        }
    </script>
</head>

<body>
    <div id="status"></div>
    <div id="outputArea"></div>
    <input type="text" id="searchName">
    <input type="button" id="searchWord" value="検索" onclick="startRequest()">
    <script id="caller"></script>
</body>
</html>
